<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Eldorado High School - News Broadcasting Club</title>
<style>
/* ================== GLOBAL ================== */
* { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, sans-serif; }
body { background: #0f172a; color: white; scroll-behavior: smooth; }
section { padding: 80px 10%; }
h1, h2 { margin-bottom: 20px; }
button { padding: 12px 20px; border: none; background: #2563eb; color: white; cursor: pointer; border-radius: 6px; transition: 0.3s; }
button:hover { background: #1e40af; }

/* ========== NAVBAR ========== */
nav { position: fixed; width: 100%; top: 0; background: rgba(15,23,42,0.95); padding: 15px 10%; display: flex; justify-content: space-between; align-items: center; z-index: 1000; }
nav a { color: white; text-decoration: none; margin-left: 20px; font-weight: bold; cursor: pointer; }
nav a:hover { color: #60a5fa; }

/* ========== HERO ========== */
.hero { height: 100vh; display: flex; justify-content: center; align-items: center; text-align: center; background: linear-gradient(to right, #1e3a8a, #2563eb); }
.hero h1 { font-size: 3rem; }
.hero p { margin: 20px 0; font-size: 1.2rem; }

/* ========== SECTIONS ========== */
.about { background: #1e293b; }
.broadcasts { background: #0f172a; }
.team { background: #1e293b; }
.join { background: #0f172a; text-align: center; }
.video-grid, .team-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; }
.video-card, .member { background: #1e293b; padding: 15px; border-radius: 10px; }
.member { background: #0f172a; }
.join input { padding: 10px; margin: 10px; width: 250px; border-radius: 6px; border: none; }

/* ========== FOOTER ========== */
footer { background: #020617; text-align: center; padding: 20px; }

/* ========== ADMIN ========== */
#adminModal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.85); justify-content: center; align-items: center; z-index: 3000; }
.modal-box { background: #1f2937; padding: 30px; border-radius: 10px; text-align: center; }
.admin-dashboard { display: none; padding: 80px 10%; min-height: 100vh; background: #111827; }
.admin-card { background: #1f2937; padding: 15px; margin-bottom: 10px; border-radius: 8px; }
hr { border:1px solid #374151; margin: 30px 0; }
</style>
</head>
<body>

<!-- NAVBAR -->
<nav>
  <div><strong>üé• School News</strong></div>
  <div>
    <a href="#about">About</a>
    <a href="#broadcasts">Broadcasts</a>
    <a href="#team">Team</a>
    <a href="#join">Join</a>
    <a onclick="openAdmin()">Admin</a>
  </div>
</nav>

<!-- HERO -->
<section class="hero">
  <div>
    <h1>Welcome to the News Broadcasting Club</h1>
    <p>Delivering school stories. Sharing student voices. Creating future journalists.</p>
    <button onclick="scrollToSection('broadcasts')">Watch Latest Broadcast</button>
  </div>
</section>

<!-- ABOUT -->
<section id="about" class="about">
  <h2>About Us</h2>
  <p>The News Broadcasting Club is a student-run organization reporting school events, announcements, sports highlights, and student achievements.</p>
</section>

<!-- BROADCASTS -->
<section id="broadcasts" class="broadcasts">
  <h2>Latest Broadcasts</h2>
  <div class="video-grid"></div>
</section>

<!-- TEAM -->
<section id="team" class="team">
  <h2>Meet the Team</h2>
  <div class="team-grid">
    <div class="member"><h3>Noe</h3><p>Insert what he does</p></div>
    <div class="member"><h3>ECT</h3><p>Insert</p></div>
    <div class="member"><h3>ECT</h3><p>Insert</p></div>
  </div>
</section>

<!-- JOIN -->
<section id="join" class="join">
  <h2>Join the Club</h2>
  <p>Interested in journalism, filming, or editing? Sign up below!</p>
  <form onsubmit="submitForm(event)">
    <input type="text" id="name" placeholder="Your Name" required>
    <input type="email" id="email" placeholder="Your Email" required>
    <br>
    <button type="submit">Submit</button>
  </form>
</section>

<footer>¬© 2026 School News Broadcasting Club</footer>

<!-- ADMIN LOGIN -->
<div id="adminModal">
  <div class="modal-box">
    <h2>Admin Login</h2>
    <input type="text" id="adminUser" placeholder="Username"><br><br>
    <input type="password" id="adminPass" placeholder="Password"><br><br>
    <button onclick="checkAdmin()">Login</button>
    <button onclick="closeAdmin()">Cancel</button>
  </div>
</div>

<!-- ADMIN DASHBOARD -->
<div class="admin-dashboard" id="adminDashboard">
  <h1>üé• Admin Control Panel</h1>
  <p>Welcome, Administrator.</p>

  <hr>

  <!-- JOIN REQUESTS -->
  <h2>üìã Student Join Requests</h2>
  <div id="submissions"></div>

  <hr>

  <!-- VIDEO MANAGEMENT -->
  <h2>üé¨ Broadcast Videos</h2>
  <button onclick="addVideo()" style="margin-bottom:20px;">‚ûï Add New Broadcast</button>
  <div id="videoManager"></div>

  <hr>

  <!-- SECURITY -->
  <h2>üîê Security</h2>
  <p>Logged in as: <strong>admin1973</strong></p>
  <button onclick="changeAdminPassword()">Change Admin Password</button><br><br>
  <button onclick="logout()" style="background:#dc2626;">Logout</button>
</div>

<script>
// ====== ADMIN LOGIN INFO ======
let ADMIN_USERNAME = "admin1973";
let ADMIN_PASSWORD_HASH = "d1de4b8de4322a7fc3e3383a4e40d2087b5b2c1e1cfc7c688ed2233316aaf97f"; // EldoradoClub2026

async function hashPassword(password) {
  const data = new TextEncoder().encode(password);
  const hash = await crypto.subtle.digest("SHA-256", data);
  return Array.from(new Uint8Array(hash)).map(b=>b.toString(16).padStart(2,"0")).join("");
}

// ====== SCROLL ======
function scrollToSection(id) {
  document.getElementById(id).scrollIntoView({behavior:"smooth"});
}

// ====== SIGNUP FORM ======
function submitForm(e) {
  e.preventDefault();
  const name = document.getElementById("name").value;
  const email = document.getElementById("email").value;
  const submissions = JSON.parse(localStorage.getItem("submissions")) || [];
  submissions.push({name,email});
  localStorage.setItem("submissions", JSON.stringify(submissions));
  alert("Thanks for signing up!");
  e.target.reset();
}

// ====== ADMIN MODAL ======
function openAdmin(){ document.getElementById("adminModal").style.display="flex"; }
function closeAdmin(){ document.getElementById("adminModal").style.display="none"; }

async function checkAdmin(){
  const user = document.getElementById("adminUser").value;
  const pass = document.getElementById("adminPass").value;
  const hashedInput = await hashPassword(pass);
  if(user===ADMIN_USERNAME && hashedInput===ADMIN_PASSWORD_HASH){
    document.getElementById("adminModal").style.display="none";
    document.body.style.display="none";
    document.getElementById("adminDashboard").style.display="block";
    loadSubmissions();
    loadVideos();
  } else {
    alert("Incorrect username or password.");
  }
}

// ====== JOIN REQUESTS ======
function loadSubmissions(){
  const submissions = JSON.parse(localStorage.getItem("submissions")) || [];
  const container = document.getElementById("submissions");
  container.innerHTML = "";
  if(submissions.length===0){ container.innerHTML="<p>No join requests yet.</p>"; return; }
  submissions.forEach((s,i)=>{
    const div = document.createElement("div");
    div.className="admin-card";
    div.innerHTML=`
      <strong>Name:</strong> ${s.name}<br>
      <strong>Email:</strong> ${s.email}<br>
      <button onclick="deleteEntry(${i})">Delete</button>
    `;
    container.appendChild(div);
  });
}

function deleteEntry(index){
  const submissions = JSON.parse(localStorage.getItem("submissions")) || [];
  submissions.splice(index,1);
  localStorage.setItem("submissions",JSON.stringify(submissions));
  loadSubmissions();
}

// ====== VIDEO MANAGEMENT ======
function loadVideos(){
  const videos = JSON.parse(localStorage.getItem("videos")) || [];
  const adminContainer = document.getElementById("videoManager");
  const publicContainer = document.querySelector(".video-grid");
  adminContainer.innerHTML="";
  publicContainer.innerHTML="";
  videos.forEach((v,i)=>{
    // Public display
    const card = document.createElement("div");
    card.className="video-card";
    card.innerHTML=`<h3>${v.title}</h3>
      <iframe width="100%" height="200" src="${v.link}" frameborder="0" allowfullscreen></iframe>
      <p>${v.transcript}</p>`;
    publicContainer.appendChild(card);

    // Admin card
    const adminCard = document.createElement("div");
    adminCard.className="admin-card";
    adminCard.innerHTML=`
      <strong>${v.title}</strong><br>
      <button onclick="editVideo(${i})">Edit</button>
      <button onclick="deleteVideo(${i})">Delete</button>
    `;
    adminContainer.appendChild(adminCard);
  });
}

function addVideo(){
  const title = prompt("Enter video title:");
  const link = prompt("Enter video embed link:");
  const transcript = prompt("Enter video transcript:");
  if(!title || !link) return;
  const videos = JSON.parse(localStorage.getItem("videos")) || [];
  videos.push({title,link,transcript});
  localStorage.setItem("videos",JSON.stringify(videos));
  loadVideos();
}

function editVideo(index){
  const videos = JSON.parse(localStorage.getItem("videos")) || [];
  const video = videos[index];
  const newTitle = prompt("Edit title:", video.title);
  const newLink = prompt("Edit link:", video.link);
  const newTranscript = prompt("Edit transcript:", video.transcript);
  videos[index] = {title:newTitle, link:newLink, transcript:newTranscript};
  localStorage.setItem("videos",JSON.stringify(videos));
  loadVideos();
}

function deleteVideo(index){
  const videos = JSON.parse(localStorage.getItem("videos")) || [];
  videos.splice(index,1);
  localStorage.setItem("videos",JSON.stringify(videos));
  loadVideos();
}

// ====== CHANGE PASSWORD ======
async function changeAdminPassword(){
  const current = prompt("Enter current password:");
  if(await hashPassword(current)!==ADMIN_PASSWORD_HASH){
    alert("Wrong current password!");
    return;
  }
  const newPass = prompt("Enter new password:");
  if(!newPass) return;
  ADMIN_PASSWORD_HASH = await hashPassword(newPass);
  alert("Password successfully changed!");
}

// ====== LOGOUT ======
function logout(){ location.reload(); }

// Load videos on page load
window.onload = loadVideos;
</script>
</body>
</html>
