<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Eldorado High School - News Broadcasting Club</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial;}
body{background:#0f172a;color:white;}
section{padding:80px 10%;}
h1,h2{margin-bottom:20px;}
button{padding:10px 18px;border:none;background:#2563eb;color:white;border-radius:6px;cursor:pointer;margin-top:5px;}
button:hover{background:#1e40af;}
input,textarea{padding:8px;margin:5px;width:100%;border-radius:6px;border:none;}
nav{position:fixed;width:100%;top:0;background:#111827;padding:15px 10%;display:flex;justify-content:space-between;z-index:1000;}
nav a{color:white;text-decoration:none;margin-left:15px;cursor:pointer;}
.hero{height:100vh;display:flex;justify-content:center;align-items:center;text-align:center;background:linear-gradient(to right,#1e3a8a,#2563eb);}
.video-card{background:#1e293b;padding:15px;border-radius:10px;margin-bottom:15px;}
.join{text-align:center;background:#0f172a;}
footer{text-align:center;padding:20px;background:#020617;margin-top:40px;}
.admin-panel{display:none;padding:120px 10%;min-height:100vh;background:#111827;}
.admin-section{margin-bottom:40px;background:#1f2937;padding:20px;border-radius:10px;}
</style>
</head>

<body>

<nav>
<div><strong>ðŸŽ¥ School News</strong></div>
<div>
<a onclick="showHome()">Home</a>
<a onclick="openAdmin()">Admin</a>
</div>
</nav>

<!-- MAIN SITE -->
<div id="mainSite">

<section class="hero">
<div>
<h1>Welcome to the News Broadcasting Club</h1>
<p>Delivering school stories. Sharing student voices.</p>
</div>
</section>

<section>
<h2>Latest Broadcasts</h2>
<div id="videoContainer"></div>
</section>

<section class="join">
<h2>Join the Club</h2>
<form onsubmit="submitJoin(event)">
<input type="text" id="name" placeholder="Your Name" required>
<input type="email" id="email" placeholder="Your Email" required>
<button type="submit">Submit</button>
</form>
</section>

<footer>
Â© 2026 Eldorado High School News Broadcasting Club
</footer>

</div>

<!-- ADMIN LOGIN -->
<div id="adminLogin" style="display:none; padding:120px 10%; text-align:center;">
<h2>Admin Login</h2>
<input type="text" id="adminUser" placeholder="Username"><br>
<input type="password" id="adminPass" placeholder="Password"><br>
<button onclick="checkAdmin()">Login</button>
<button onclick="showHome()">Cancel</button>
</div>

<!-- ADMIN PANEL -->
<div class="admin-panel" id="adminPanel">

<h1>Admin Dashboard</h1>

<div class="admin-section">
<h2>Add New Video</h2>
<input type="text" id="newVideoTitle" placeholder="Video Title">
<input type="text" id="newVideoLink" placeholder="YouTube Embed Link">
<textarea id="newTranscript" placeholder="Transcript"></textarea>
<button onclick="addVideo()">Add Video</button>
</div>

<div class="admin-section">
<h2>Edit Videos</h2>
<div id="adminVideoList"></div>
</div>

<div class="admin-section">
<h2>Join Requests</h2>
<div id="joinRequests"></div>
</div>

<button onclick="logout()">Logout</button>

</div>

<script>
const ADMIN_USERNAME = "admin1973";
const ADMIN_PASSWORD_HASH = "9c7b7e9dbd8c9a23b1fa4f8c3dc97a6e9c6a2b9f50c38e53f0f1bbd11d1e6c61"; 
// SHA-256 of EldoradoClub2026

function showHome(){
document.getElementById("mainSite").style.display="block";
document.getElementById("adminLogin").style.display="none";
document.getElementById("adminPanel").style.display="none";
}

function openAdmin(){
document.getElementById("mainSite").style.display="none";
document.getElementById("adminLogin").style.display="block";
}

async function hashPassword(password){
const encoder=new TextEncoder();
const data=encoder.encode(password);
const hash=await crypto.subtle.digest("SHA-256",data);
return Array.from(new Uint8Array(hash)).map(b=>b.toString(16).padStart(2,"0")).join("");
}

async function checkAdmin(){
const user=document.getElementById("adminUser").value;
const pass=document.getElementById("adminPass").value;
const hashed=await hashPassword(pass);
if(user===ADMIN_USERNAME && hashed===ADMIN_PASSWORD_HASH){
document.getElementById("adminLogin").style.display="none";
document.getElementById("adminPanel").style.display="block";
loadAdminData();
}else{
alert("Incorrect login.");
}
}

function logout(){location.reload();}

function submitJoin(e){
e.preventDefault();
let joins=JSON.parse(localStorage.getItem("joins"))||[];
joins.push({name:name.value,email:email.value});
localStorage.setItem("joins",JSON.stringify(joins));
alert("Thanks for joining!");
e.target.reset();
}

function loadVideos(){
let videos=JSON.parse(localStorage.getItem("videos"))||[];
const container=document.getElementById("videoContainer");
container.innerHTML="";
videos.forEach(v=>{
container.innerHTML+=`
<div class="video-card">
<h3>${v.title}</h3>
<iframe width="100%" height="315" src="${v.link}" frameborder="0" allowfullscreen></iframe>
<p>${v.transcript}</p>
</div>`;
});
}

function addVideo(){
let videos=JSON.parse(localStorage.getItem("videos"))||[];
videos.push({
title:newVideoTitle.value,
link:newVideoLink.value,
transcript:newTranscript.value
});
localStorage.setItem("videos",JSON.stringify(videos));
newVideoTitle.value="";
newVideoLink.value="";
newTranscript.value="";
loadAdminData();
loadVideos();
}

function loadAdminData(){
loadVideos();
let videos=JSON.parse(localStorage.getItem("videos"))||[];
const list=document.getElementById("adminVideoList");
list.innerHTML="";
videos.forEach((v,i)=>{
list.innerHTML+=`
<div style="margin-bottom:10px;">
<strong>${v.title}</strong><br>
<input value="${v.link}" onchange="updateVideo(${i},'link',this.value)">
<textarea onchange="updateVideo(${i},'transcript',this.value)">${v.transcript}</textarea>
<button onclick="deleteVideo(${i})">Delete</button>
</div>`;
});

let joins=JSON.parse(localStorage.getItem("joins"))||[];
const joinDiv=document.getElementById("joinRequests");
joinDiv.innerHTML="";
joins.forEach(j=>{
joinDiv.innerHTML+=`<p>${j.name} - ${j.email}</p>`;
});
}

function updateVideo(index,field,value){
let videos=JSON.parse(localStorage.getItem("videos"));
videos[index][field]=value;
localStorage.setItem("videos",JSON.stringify(videos));
}

function deleteVideo(index){
let videos=JSON.parse(localStorage.getItem("videos"));
videos.splice(index,1);
localStorage.setItem("videos",JSON.stringify(videos));
loadAdminData();
loadVideos();
}

loadVideos();
</script>

</body>
</html>
